<section class="job-table-section container py-5">
  <h2 class="text-center text-primary mb-4">ðŸ“‹ Job Listings</h2>
  <div class="table-responsive">
    <table class="table table-bordered align-middle">
      <thead class="table-primary">
        <tr>
          <th>Job Title</th>
          <th>Category</th>
          <th>Location</th>
          <th>Experience</th>
          <th>Pay Scale</th>
          <th>Description</th>
          <th>Created Date</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let job of jobList">
          <td>{{ job.jobName }}</td>
          <td>{{ job.categoryName }}</td>
          <td>{{ job.location }}</td>
          <td>{{ job.experience }}</td>
          <td>{{ job.package }}</td>
          <td>{{ job.jobDescription }}</td>
          <td>{{ job.createdDate | date: 'mediumDate' }}</td>
          <td>
            <button class="btn btn-outline-primary btn-sm" (click)="openJobs(job)">
              {{ job.isExpanded ? 'Hide' : 'View' }} Applications
            </button>
          </td>
        </tr>

        <!-- Expandable Row for Applications -->
        <tr *ngIf="job.isExpanded">
          <td colspan="8">
            <div class="bg-light p-3 rounded">
              <h5 class="mb-3 text-secondary">ðŸ§¾ Applications</h5>
              <table class="table table-sm table-bordered">
                <thead>
                  <tr>
                    <th>Applicant Name</th>
                    <th>Email</th>
                    <th>Mobile</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let app of applications">
                    <td>{{ app.fullName }}</td>
                    <td>{{ app.emailId }}</td>
                    <td>{{ app.mobileNo }}</td>
                    <td>
                      <span class="badge bg-warning text-dark" *ngIf="app.applcationStatus === 'Pending'">
                        Pending
                      </span>
                      <span class="badge bg-success" *ngIf="app.applcationStatus === 'Approved'">
                        Approved
                      </span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</section>
